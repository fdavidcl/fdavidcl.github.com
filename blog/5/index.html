<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Blog (page 5) - fdavidcl</title> <link rel="stylesheet" href="/assets/stylesheets/normalize.css"> <link rel="stylesheet" href="/assets/stylesheets/default.css"> </head> <body> <div class="wrapper pure-g"> <aside class="sidebar"> <div class="side-content"> <header> <a class="name-box" href="/"> <h1>David Charte</h1> <h3>fdavidcl</h3> </a> <img src="https://secure.gravatar.com/avatar/7083d161b041964b75c38376d9dee37a?s=200" class="profile-pic"/> </header> <nav class="sections"> <a href="/blog" class="section-link section-blog">blog</a> <a href="/research" class="section-link section-research">research</a> <a href="/projects" class="section-link section-projects">projects</a> </nav> <nav class="social-links"> <a class="social-button Twitter-link" href="https://twitter.com/fdavidcl" title="Twitter"><i class="fa fa-twitter"></i></a> <a class="social-button Instagram-link" href="https://instagram.com/fdavidcl" title="Instagram"><i class="fa fa-instagram"></i></a> <a class="social-button Github-link" href="https://github.com/fdavidcl" title="Github"><i class="fa fa-github"></i></a> <a class="social-button LinkedIn-link" href="https://linkedin.com/in/fdavidcl" title="LinkedIn"><i class="fa fa-linkedin"></i></a> <a class="social-button Scholar-link" href="https://scholar.google.es/citations?user=FRv_MwYAAAAJ" title="Scholar"><i class="fa fa-graduation-cap"></i></a> </nav> </div> </aside> <div class="main"> <div class="main-content"> <article> <span class="date">30-10-2013</span> <a href="/blog/2013/10/30/lidiando-con-uefi-gpt-y-las-instalaciones-de/"><h1>Lidiando con UEFI, GPT y las instalaciones de Linux (II): El Setup</h1></a> <p><a href="http://fdavidcl.tumblr.com/post/65241668621/lidiando-con-uefi-gpt-y-las-instalaciones-de-linux">← (I) Introducción</a></p> <p>El Setup es la pantalla de configuración del firmware del ordenador. Esta pantalla es accesible únicamente desde la primera pantalla de arranque en el momento de encender el ordenador. En los ordenadores con BIOS suele aparecer una indicación de la tecla que hay que pulsar (suele ser DEL/Supr. F2, F10, o F12), pero los que tienen UEFI suelen ser demasiado rápidos para eso, por lo que hay que mantener pulsada la tecla correspondiente desde antes de encenderlos.</p> <p>Si vuestro ordenador viene con Windows 8/8.1, es más sencillo entrar al Setup, con la opción <strong>Inicio avanzado</strong> de la aplicación de configuración (en Windows 8 está en la sección Uso general; en 8.1 está en Actualizar y recuperar &gt; Recuperación). Al pulsar en &ldquo;Reiniciar ahora&rdquo;, accederéis a una serie de menús en los que podréis encontrar la configuración del firmware bajo Opciones avanzadas.</p> <p><img alt="image" src="http://66.media.tumblr.com/30c0b0e26dc82ff1bd8c26afa296b67e/tumblr_inline_mvc4u5tFaN1r7kqtk.png"/></p> <p>Una vez dentro del Setup, las dos opciones que más nos interesan son las que modifican el modo de arranque y el modo de seguridad. La primera permite elegir entre el arranque UEFI y un modo de compatibilidad que simula una BIOS; la segunda es el Secure boot que viene con Windows 8. Cada Setup está organizado de forma distinta, según el fabricante (Gigabyte, Phoenix, Insyde, ASUS&hellip;), así que lo más fácil es que busquemos por los menús hasta que las encontremos. De hecho, algunos Setup permiten utilizar el ratón para moverse por los menús, además de incorporar una interfaz algo más agradable que en las BIOS.</p> <h3>Modo de arranque</h3> <p>La opción de modo de arranque (<em>Boot Mode</em>, <em>UEFI Boot</em> o similar) estará bajo las opciones de arranque o entre las opciones avanzadas. Tendrá dos posibles valores, <strong>UEFI y Legacy BIOS/CSM mode</strong>. El primero de ellos provocará que se busquen cargadores de arranque EFI, bien en la partición EFI del disco duro o bien en otros dispositivos, Este tipo de arranque reside siempre en un archivo con extensión .efi (por ejemplo, Windows utiliza el archivo <em>bootmgr.efi</em>, entre otros), que suele estar en una carpeta EFI o boot/EFI.</p> <p>El segundo valor activa un modo de compatibilidad, que permite iniciar el ordenador como si tuviera una BIOS antigua, es decir, haciendo caso a los sectores de arranque de los discos. Esto nos permitiría arrancar una distro Linux, que no soporte EFI, desde un pen drive. Aunque de primeras no soporte EFI, si instalamos esa distro podremos utilizar un cargador de arranque que sí esté habilitado para EFI, y reconozca los sistemas Linux (más sobre los cargadores de arranque en el siguiente post de esta serie).</p> <h3>Secure Boot</h3> <p><img alt="image" src="http://66.media.tumblr.com/c24c7e5b8dd28ea331474ed7c020ed2d/tumblr_inline_mvhsv4xeEa1r7kqtk.jpg"/></p> <p><span>La opción de Secure Boot aparecerá si el ordenador traía instalado Windows 8/8.1, y estará activada por defecto. El propósito de esta función es que se impida <strong>arrancar de forma no intencionada</strong> un posible archivo maligno que esté almacenado, por ejemplo, en un pen drive que esté conectado al ordenador. Con la antigua BIOS, en el caso de que se hubiera establecido el USB como unidad prioritaria para arrancar, lo haría sin atender a la seguridad de lo que se está ejecutando. Sin embargo, en muchos más casos estaremos tratando de iniciar un S.O. que no esté aún preparado para Secure Boot, y por tanto no nos deje arrancarlo.</span></p> <p>Es recomendable dejarla activada si no vamos a utilizar más que el arranque de Windows o una distro de Linux que ya soporte Secure Boot (Ubuntu, por ejemplo). En otro caso, si queremos iniciar un Linux que soporte EFI/UEFI pero no venga con una clave de seguridad adecuada para Secure Boot, deberemos desactivar esta opción.</p> <h3>Prioridad de arranque</h3> <p>Esta otra función del Setup (generalmente aparece como <em>Boot Priority</em> o <em>Boot Sequence</em>) nos permite establecer el orden en que se tratará de iniciar un dispositivo. Por ejemplo, si estamos frecuentemente arrancando desde un pen drive, puede ser más cómodo establecer USB con la máxima prioridad, de forma que el ordenador busque algo que arrancar en un pen antes de ir a arrancar el S.O. del disco duro. Si raramente hacemos esto, poner el disco duro con mayor prioridad asegurará un arranque algo más rápido.</p> <p><a href="http://fdavidcl.tumblr.com/post/66598876479/lidiando-con-uefi-gpt-y-las-instalaciones-de-linux">→ (III) El cargador de arranque</a></p> <div class="tags"> <a href="/tag/tech">tech</a> <a href="/tag/uefi">uefi</a> <a href="/tag/gpt">gpt</a> <a href="/tag/linux">linux</a> </div> </article> <article> <span class="date">27-10-2013</span> <a href="/blog/2013/10/27/lidiando-con-uefi-gpt-y-las-instalaciones-de/"><h1>Lidiando con UEFI, GPT y las instalaciones de Linux (I): Introducción</h1></a> <p><img alt="image" src="http://67.media.tumblr.com/4e9795ea163456aeb983af3b61bfbbc6/tumblr_inline_mvc6eoEsUG1r7kqtk.jpg"/></p> <p>El sistema de arranque por BIOS ha sido hasta ahora uno de los componentes que menos han cambiado en los ordenadores, desde su creación. Sin embargo, desde hace unos meses y sobre todo gracias al lanzamiento de Windows 8, los fabricantes están comenzando a implementar un nuevo método de arranque, <strong>más rápido, potente y seguro</strong>, denominado UEFI (<em>Unified Extensible Firmware Interface</em>). Sin meterme mucho en la historia de su creación, todo comenzó en mediados de los 90 cuando la BIOS presentaba demasiadas limitaciones para nuevas plataformas de servidores. Entonces Intel desarrolló EFI, y después se creó el Unified EFI Forum, que lanzó la actual especificación de UEFI.</p> <p>Por otro lado MBR (<em>Master Boot Record</em>) se introdujo en 1983, y consiste en una forma de almacenar información sobre la organización de los datos en el disco duro (particiones, sistemas de archivos, etc.). Sin embargo también está mostrando ya sus años, al no ser capaz, por ejemplo, de manejar discos de más de 2 TB o de crear más de 4 particiones. Su sustituta es GPT (<em>GUID Partition Table</em>), que en teoría puede manejar discos de más de 8.590.000.000 TB, y organizarlos en <strong>hasta 128 particiones</strong>.</p> <p>Y con todos estos cambios, lo normal es que se pierda compatibilidad con plataformas y sistemas que aún no se hayan adaptado a las nuevas especificaciones. Por un lado tenemos a Mac OS X, que lleva años implementando EFI en todos los ordenadores (mejorando la rapidez de arranque y la seguridad, pero dificultando la instalación de otros S.O.). Windows, por su parte, soporta el uso de EFI/UEFI desde Vista, pero no ha sido hasta ahora, con el lanzamiento de Windows 8, cuando Microsoft ha requerido a los fabricantes que instalen por defecto UEFI, añadiendo además un componente llamado Secure Boot, que <strong>impide arrancar un sistema operativo</strong> si este no aporta una clave de seguridad adecuada.</p> <p>Finalmente, el soporte de UEFI y GPT en sistemas Linux es más heterogéneo, con distribuciones que se han adaptado rápido y otras que están necesitando más tiempo (en general, las más importantes ya soportan UEFI). Existen cargadores de arranque preparados para EFI y para arrancar Linux desde el año 2000 (elilo), pero no había una constancia en el buen funcionamiento de estas soluciones en distintos ordenadores y distintas distros de Linux.</p> <p>Por eso, en los siguientes posts de esta serie iré introduciendo algunos consejos que os vendrán bien a la hora de instalar nuevos S.O. y particionar el disco duro.</p> <p><a href="http://fdavidcl.tumblr.com/post/65535293683/lidiando-con-uefi-gpt-y-las-instalaciones-de-linux">→ (II) El Setup</a></p> <div class="tags"> <a href="/tag/tech">tech</a> <a href="/tag/uefi">uefi</a> <a href="/tag/gpt">gpt</a> <a href="/tag/linux">linux</a> </div> </article> <article> <span class="date">24-09-2013</span> <a href="/blog/2013/09/24/lidiando-con-uefi-particiones-y-la-instalaci%C3%B3n-de/"><h1>Lidiando con UEFI, particiones y la instalación de Linux</h1></a> <p><b>El Setup: Secure boot, Compatibility mode</b></p> <p>El Setup es la pantalla de configuración del firmware del ordenador. Esta pantalla es accesible únicamente desde la primera pantalla de arranque en el momento de encender el ordenador. En los ordenadores con BIOS suele aparecer una indicación de la tecla que hay que pulsar (suele ser DEL/Supr. o F2, F10, F12), pero los que tienen UEFI suelen ser demasiado rápidos para eso, por lo que hay que mantener pulsada la tecla correspondiente desde antes de encenderlos.</p> <p>Si vuestro ordenador viene con Windows 8/8.1, es más sencillo entrar al Setup, con la opción <b>Inicio avanzado</b> de la aplicación de configuración (en Windows 8 está en la sección Uso general; en 8.1 está en Actualizar y recuperar &gt; Recuperación). Al pulsar en &ldquo;Reiniciar ahora&rdquo;, accederéis a una serie de menús en los que podréis encontrar la configuración del firmware bajo Opciones avanzadas.</p> <img alt="image" src="http://66.media.tumblr.com/30c0b0e26dc82ff1bd8c26afa296b67e/tumblr_inline_mvc4u5tFaN1r7kqtk.png"/><p></p> <p>Una vez dentro del Setup, las dos opciones que nos interesan son las que modifican el modo de arranque y el modo de seguridad. La primera permite elegir entre el arranque UEFI y un modo de compatibilidad que simula una BIOS; la segunda es el Secure boot que viene con Windows 8, tendremos que desactivarla si queremos arrancar ciertos S.O. desde un pen drive, por ejemplo.</p> <p><b>El cargador de arranque</b></p> <p>Al instalar Ubuntu o cualquier otra distribución, aseguraos de que el cargador de arranque se instala en la primera partición del disco duro (la designada para el arranque EFI). Esta partición debería montarse (probablemente lo haga de forma automática, pero es mejor asegurarse) en <b>/boot/efi/</b>.Además, es conveniente comprobar que es compatible con EFI, por ejemplo, grub-efi.</p> <p>Si el cargador de arranque no se ha instalado bien y no conseguís llegar a iniciar vuestro Linux, podéis probar con un cargador de arranque para USB. Por ejemplo, <b><a href="http://sourceforge.net/projects/refind/">rEFInd</a></b> es un muy extendido <i>bootloader</i> diseñado para UEFI, y tiene una versión para USB. También está Clover, que es capaz no sólo de arrancar en un ordenador con UEFI sino también en un ordenador con BIOS y <b>simular un arranque UEFI</b>, de forma que un S.O. instalado con UEFI o que lo requiera (por ejemplo, <a href="http://fdavidcl.tumblr.com/post/47880085562/hackintosh-y-distros-de-os-x">OS X</a>) pueda iniciarse sin tener UEFI en realidad.</p> <p><b>Las particiones</b></p> <p>En general, Linux es capaz de iniciar desde un ordenador con BIOS pero el disco duro formateado en GPT, pero Windows no puede, sino que requiere EFI/UEFI para arrancar un disco GPT.</p> <div class="tags"> </div> </article> <article> <span class="date">24-09-2013</span> <a href="/blog/2013/09/24/convierte-tu-ordenador-en-un-hotspot-wi-fi/"><h1>Convierte tu ordenador en un Hotspot Wi-Fi</h1></a> <p>Crear un punto de acceso Wi-Fi es algo bastante útil, si queremos conectar otro dispositivo a Internet y no tenemos otro cable o señal de red Wi-Fi cerca. En este caso, necesitamos que el ordenador tenga acceso a Internet por una conexión distinta de la que vayamos a utilizar para el <em>hotspot</em> (básicamente, el ordenador debería estar conectado por cable Ethernet, o bien tener dos adaptadores Wi-Fi). <span>Las instrucciones siguientes son para Windows 7 y 8 (en Linux crear un </span><em>hotspot</em><span> es muy sencillo, la función está disponible en los ajustes de conexión).</span></p> <p><span>En el explorador de archivos, activamos que muestre las extensiones de archivo (en la pestaña Vista si estamos en Windows 8; en Windows 7 desmarcamos </span><em>Ocultar las extensiones de archivo para tipos de archivo conocidos</em><span> de la ventana Opciones de carpeta).</span></p> <p><img alt="image" src="http://65.media.tumblr.com/98d528e5c77d053ff8e02ac9314b7400/tumblr_inline_mtd96bVQZ01r7kqtk.png"/></p> <p><span>Creamos un nuevo documento de texto, y lo llamamos </span><strong>iniciar_hotspot.bat</strong><span> (quitamos la extensión </span><em>.txt</em><span>).</span></p> <p><img alt="image" src="http://66.media.tumblr.com/05599266fae9f705020d8a716a5cae93/tumblr_inline_mtd99e5VPA1r7kqtk.png"/></p> <p><span>Hacemos clic derecho sobre él y seleccionamos </span><strong>Editar</strong><span>.</span></p> <p><img alt="image" src="http://66.media.tumblr.com/9b125684ce65648537df3f35aa92d817/tumblr_inline_mtd9d2XYgn1r7kqtk.png"/></p> <p><span>Introducimos el siguiente código:</span></p> <pre><code class="dos">@echo off

:: BatchGotAdmin
:-------------------------------------
REM  --&gt; Check for permissions
&gt;nul 2&gt;&amp;1 "%SYSTEMROOT%\system32\cacls.exe" "%SYSTEMROOT%\system32\config\system"

REM --&gt; If error flag set, we do not have admin.
if '%errorlevel%' NEQ '0' (
    echo Solicitando permisos de administrador...
    goto UACPrompt
) else ( goto gotAdmin )

:UACPrompt
echo Set UAC = CreateObject^("Shell.Application"^) &gt; "%temp%\getadmin.vbs"
set params = %*:"=""
echo UAC.ShellExecute "%~s0", "%params%", "", "runas", 1 &gt;&gt; "%temp%\getadmin.vbs"

"%temp%\getadmin.vbs"
exit /B

:gotAdmin
if exist "%temp%\getadmin.vbs" ( del "%temp%\getadmin.vbs" )
pushd "%CD%"
CD /D "%~dp0"
:--------------------------------------

echo Activando hotspot Wi-Fi...
netsh wlan set hostednetwork mode=allow ssid=<span>NOMBRE_DE_MI_WIFI</span> key=<span>PASSWORD</span>
netsh wlan start hostednetwork</code></pre> <p><span>Sustituid el nombre de la red Wi-Fi (ssid) y la contraseña (key) a lo que consideréis adecuado.</span></p> <p><span>Guardamos el archivo. Hacemos una copia del archivo y lo nombramos </span><strong>detener_hotspot.bat</strong><span>. Lo editamos, borrando las tres últimas líneas y añadiendo en su lugar:</span></p> <pre><code class="dos">echo Desctivando hotspot Wi-Fi...
netsh wlan stop hostednetwork<br/></code></pre> <p>Y nuestro hotspot ya está listo, basta con hacer doble clic sobre <strong>iniciar_hotspot.bat</strong> y se iniciará. Probablemente aún no podremos conectar desde otro dispositivo, sino que habrá que configurar la conexión ethernet para que lo permita (desde el Panel de control, en <em>Conexiones de red</em>):</p> <p><img alt="image" src="http://67.media.tumblr.com/5aeb9eccc67702a49b42524f282d4851/tumblr_inline_mtdaos2MBg1r7kqtk.png"/></p> <p>Y además, puede que haya que fijar la IP del adaptador virtual, así que abrimos sus propiedades y lo configuramos como se ve en la imagen:</p> <p><img alt="image" src="http://67.media.tumblr.com/fe84821997b2a84de297173b5ebc3bb1/tumblr_inline_mtdaqdS0re1r7kqtk.png"/></p> <div class="tags"> <a href="/tag/tech">tech</a> <a href="/tag/windows">windows</a> <a href="/tag/truco">truco</a> </div> </article> <nav class="pagination"> <a href="/blog/4/">Newer</a> <span class="note">5 of 10</span> <a href="/blog/6/">Older</a> <a href="/blog/archive">All posts</a> </nav> <style>.wrapper .sidebar .side-content .sections .section-blog{background:#fff;color:#000;border-color:#fff}@media(min-width:64em){.wrapper .sidebar .side-content .sections .section-blog{margin-right:-2rem;padding-right:2rem}}</style> </div> </div> </div> <link href='https://fonts.googleapis.com/css?family=Source Sans Pro:300,400,400i,700|Inconsolata:400,700' rel='stylesheet' type='text/css'> <link href="//maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet"/> <link rel="stylesheet" href="/assets/stylesheets/highlight-friendly.css"> </body> </html>