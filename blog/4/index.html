<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Blog (page 4) - fdavidcl</title> <link rel="stylesheet" href="/assets/stylesheets/normalize.css"> <link rel="stylesheet" href="/assets/stylesheets/default.css"> </head> <body> <div class="wrapper pure-g"> <aside class="sidebar"> <div class="side-content"> <header> <a class="name-box" href="/"> <h1>David Charte</h1> <h3>fdavidcl</h3> </a> <img src="https://secure.gravatar.com/avatar/7083d161b041964b75c38376d9dee37a?s=200" class="profile-pic"/> </header> <nav class="sections"> <a href="/blog" class="section-link section-blog">blog</a> <a href="/research" class="section-link section-research">research</a> <a href="/projects" class="section-link section-projects">projects</a> </nav> <nav class="social-links"> <a class="social-button Twitter-link" href="https://twitter.com/fdavidcl" title="Twitter"><i class="fa fa-twitter"></i></a> <a class="social-button Instagram-link" href="https://instagram.com/fdavidcl" title="Instagram"><i class="fa fa-instagram"></i></a> <a class="social-button Github-link" href="https://github.com/fdavidcl" title="Github"><i class="fa fa-github"></i></a> <a class="social-button LinkedIn-link" href="https://linkedin.com/in/fdavidcl" title="LinkedIn"><i class="fa fa-linkedin"></i></a> <a class="social-button Scholar-link" href="https://scholar.google.es/citations?user=FRv_MwYAAAAJ" title="Scholar"><i class="fa fa-graduation-cap"></i></a> </nav> </div> </aside> <div class="main"> <div class="main-content"> <article> <span class="date">26-03-2014</span> <a href="/blog/2014/03/26/iterando-sobre-contenedores-de-c/"><h1>Iterando sobre contenedores de C++</h1></a> <p>Si escribís código en C++ y usáis los contenedores de la STL (<code>std::vector</code>, <code>std::list</code>, etc.) probablemente estéis hartos de la forma de iterar sobre ellos:</p> <pre><code class="cpp">for (std::vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); ++it)
</code></pre> <p>La vida es demasiado corta para estar escribiendo cabeceras de bucles de ese estilo, así que aquí viene una solución en forma de macro del preprocesador, cosa que no es muy buena idea, pero lo cuento más bien como <em>proof of concept</em>:</p> <pre><code>#define each(c, i, s) for (auto (i) = (c).begin(); (i) != (c).end(); ++(i)) {s;}
</code></pre> <p>Esta macro recibe un contenedor, un nombre para el iterador y una serie de sentencias, de forma que se pueda ejecutar algo del tipo:</p> <pre><code class="cpp">std::vector&lt;int&gt; v(20);

std::iota(v.begin(), v.end(), 1); // Rellena con valores de 1 a 20

each (v, it,
   std::cout &lt;&lt; *it;
   std::cout &lt;&lt; " ";
);
</code></pre> <p>Y es válido para cualquier contenedor con iteradores y métodos <code>begin()</code> y <code>end()</code>, por lo que se puede usar con vectores, listas, mapas o clases propias. El código resultante es más abstracto y limpio, pero realmente una macro de preprocesador no es una buena forma de ahorrarnos código, ya que no son muy seguras y podemos caer en errores de sintaxis muy fácilmente.</p> <p>La alternativa segura y correcta sería usar la STL, que incluye en la biblioteca <code>&lt;algorithm&gt;</code> una función <code>for_each</code> que permite hacer algo muy parecido:</p> <pre><code class="cpp">std::for_each (v.begin(), v.end(), [](int &amp;n) {
   std::cout &lt;&lt; n;
   std::cout &lt;&lt; " ";
});
</code></pre> <p>Y por último, la manera más cómoda y familiar de recorrer un contenedor sería utilizar la nueva sintaxis de <code>for</code> incluida en el estándar C++11, similar a las de otros lenguajes:</p> <pre><code class="cpp">for (int &amp;n : v) { // Itera sobre cada elemento n en v
   std::cout &lt;&lt; n &lt;&lt; " ";
}
</code></pre> <p>Documentación: <a href="http://en.cppreference.com/w/cpp/algorithm/for_each">for_each</a>, <a href="http://en.cppreference.com/w/cpp/language/range-for">range for</a></p> <div class="tags"> <a href="/tag/code">code</a> <a href="/tag/c++">c++</a> <a href="/tag/donttrythisathome">donttrythisathome</a> </div> </article> <article> <span class="date">25-02-2014</span> <a href="/blog/2014/02/25/lidiando-con-uefi-gpt-y-las-instalaciones-de/"><h1>Lidiando con UEFI, GPT y las instalaciones de Linux (y IV): Discos y particiones</h1></a> <p><a href="http://fdavidcl.tumblr.com/post/66598876479/lidiando-con-uefi-gpt-y-las-instalaciones-de-linux">← (III) El cargador de arranque</a></p> <p>Uno de los puntos clave que trae UEFI consigo es la introducción, a su vez, del sistema de particionado GPT (<em>GUID Partition Table</em>), que es una alternativa al sistema que se venía utilizando hasta ahora, conocido como MBR. Las ventajas son claras: un disco duro formateado con GPT puede organizarse en un gran número de particiones, y estas se pueden redimensionar a nuestro gusto, cosa que no es tan fácil en MBR. A diferencia de UEFI, los sistemas operativos actuales no tienen problema reconociendo un disco GPT y trabajando con él de la forma habitual. No se puede decir lo mismo de otros aparatos (una Smart TV o una consola tal vez no reconozca un disco externo si es GPT).</p> <p><img alt="image" src="http://67.media.tumblr.com/da2b217ef634e0efbfb041d2f2626d01/tumblr_inline_n1bin3BlsM1r7kqtk.png"/></p> <p>Un disco con GPT tendrá generalmente un <em>Master Boot Record</em> &ldquo;protectivo&rdquo;, lo que quiere decir que se hará ver como un disco vacío en sistemas que no soporten GPT (como Windows XP), para evitar que estos traten de modificar o arreglar el formato y destruyan la tabla de particiones.</p> <p>Normalmente el disco contendrá una primera partición de unos 200 MB dedicada al arranque EFI. Esta partición contiene el <a href="http://fdavidcl.tumblr.com/post/66598876479/lidiando-con-uefi-gpt-y-las-instalaciones-de-linux">cargador de arranque</a>, luego hay que tener cuidado de no modificarla. A partir de ahí, podemos añadir y modificar las particiones que queramos. Para ello podemos usar las herramientas de administración de discos de Windows (<em>Administrador de discos</em>), Linux (hay varias, <em>Discos</em> en algunas distros, también <em>gparted,</em> o <em>gdisk</em> en la terminal) y OS X (<em>Utilidad de discos</em>).</p> <p>Los tipos de particiones que puede tener un disco GPT son distintos a los de MBR, pero eso no es problema, ya que pueden albergar los mismos sistemas de archivos que en un disco MBR. De estos, usaremos NTFS en general para Windows (y para compatibilidad con todos los sistemas) en particiones de tipo <em>Microsoft basic data</em>, ext4 para Linux en particiones de tipo <em>Linux filesystem</em> y HFS+, en particiones <em>Apple HFS/HFS+</em>, si utilizamos OS X. La elección del tipo de partición se suele hacer automáticamente mediante la herramienta que usemos, luego no debemos preocuparnos por eso.</p> <p>Una herramienta avanzada para la manipulación de discos GPT es <em>gdisk</em> (en Linux), que se ejecuta desde la terminal y permite modificar las particiones y la tabla de particiones. Además, <em>gdisk</em> es muy útil porque es capaz de <strong>convertir un disco MBR en GPT sin perder datos</strong> (aun así es recomendable hacer una copia de seguridad de todo). Simplemente ejecutando <code>sudo gdisk /dev/sdb</code> (suponiendo que /dev/sdb es el disco que queremos convertir) e introduciendo <code>w</code> se realizará el proceso.</p> <p><img alt="image" src="http://66.media.tumblr.com/f99f82027e687bb5493c6f7dbed6fcdd/tumblr_inline_n1kesx3EFV1r7kqtk.png"/></p> <p>En la imagen vemos arriba el aviso que presenta <em>gdisk</em> al ejecutarlo sobre un disco MBR, antes de convertirlo a GPT; al convertirlo podemos prepararlo para que un ordenador con arranque (U)EFI sea capaz de iniciar un SO desde el disco. En la captura de abajo vemos parte de las opciones disponibles para gestión de discos GPT, una opción muy útil es <code>p</code>, que muestra la tabla de particiones actual.</p> <p>Y con esto termina la guía sobre UEFI y GPT, que podéis volver a visitar cuando queráis en la etiqueta <a href="http://fdavidcl.tumblr.com/tagged/uefi">#uefi</a>.</p> <div class="tags"> <a href="/tag/uefi">uefi</a> <a href="/tag/gpt">gpt</a> <a href="/tag/linux">linux</a> <a href="/tag/tech">tech</a> </div> </article> <article> <span class="date">11-12-2013</span> <a href="/blog/2013/12/11/fen%C3%B3menos-cerebrales-colores-sinestesia-y-asmr/"><h1>Fenómenos cerebrales: colores, sinestesia y ASMR</h1></a> <p>Se suele decir que el cerebro es uno de los órganos del cuerpo más difíciles de estudiar, y que guarda enormes misterios. Hoy os cuento algunos extraños fenómenos relacionados con los sentidos, pero que tienen lugar en nuestra cabeza.</p> <h3>Colores: el magenta no existe</h3> <p><img alt="image" src="http://67.media.tumblr.com/590986debe72994ecc8b74a5d6e739b2/tumblr_inline_mr85hrYQ8I1qz4rgp.png"/></p> <p>Es curioso que el color magenta no aparece en el arco iris, ni en el espectro de longitudes de onda visibles (que va desde el rojo hasta el violeta, pasando por amarillo, verde y azul). ¿Cómo es que podemos ver algo rosa, entonces? En realidad, nuestros ojos solo pueden detectar tres colores: rojo, verde y azul (RGB), y el cerebro averigua el resto cuando se reciben señales de más de un color. Entonces, en el caso de que se detecte color rojo y verde, el cerebro entenderá que estamos viendo algo amarillo, y si detecta verde y azul, veremos cian. Sin embargo, se puede dar el caso de que se detecte el azul y el rojo, pero no el verde, por lo que el cerebro no puede tomar el color que está en medio, y ha de inventarse uno nuevo, el magenta. En este vídeo, Steve Mould explica más gráficamente como es todo este proceso.</p> <p><iframe frameborder="0" height="315" src="//www.youtube-nocookie.com/embed/iPPYGJjKVco?rel=0" width="560"></iframe></p> <h3>Sinestesia e ideastesia: vinculando sentidos entre sí, e ideas a sentidos</h3> <p>La sinestesia es un término que abarca una variedad de fenómenos, que tienen en común que la percepción de una cosa lleva vinculada alguna otra sensación que no está implícita en la primera. Es difícil de explicar, pero básicamente, puede ocurrir que uno &ldquo;vea&rdquo; sonidos, &ldquo;oiga&rdquo; colores, y similares. Por otro lado, la ideastesia, que generalmente se engloba dentro de la sinestesia, lleva a una persona a asociar conceptos (números, palabras) con colores o sonidos. Por ejemplo, alguien con ideastesia podría percibir el 2 como un número asociado al verde, aun estando escrito en otro color. Estas curiosas alteraciones de los sentidos no son tan inusuales, se estima que se dan en aproximadamente una de cada 23 personas.</p> <p><iframe frameborder="0" height="349" src="//www.youtube-nocookie.com/embed/dNy23tJMTzQ?rel=0" width="620"></iframe></p> <h3>ASMR: el cosquilleo mental</h3> <p>El ASMR (<em>Autonomous sensory meridian response</em>) es un fenómeno aún más raro y menos estudiado que la sinestesia, pero que ha ido volviéndose más conocido poco a poco gracias a Internet. Fundamentalmente se trata de una sensación similar a un cosquilleo intenso en la cabeza, que aparece en determinadas situaciones o bajo ciertos estímulos. Ni siquiera hay aún un estudio científico de este concepto, porque es muy difícil de investigar y además parece darse en muy pocas personas, se estima que podría aparecer en una de cada mil personas.</p> <p>Curiosamente, se ha formado una pequeña comunidad de personas que experimentan esta sensación (sobre todo en Youtube, donde algunos vídeos tratan de provocarla), y que la utilizan para mitigar el insomnio o para relajarse.</p> <div class="tags"> <a href="/tag/science">science</a> <a href="/tag/color">color</a> <a href="/tag/synesthesia">synesthesia</a> <a href="/tag/asmr">asmr</a> <a href="/tag/curious">curious</a> <a href="/tag/brain">brain</a> </div> </article> <article> <span class="date">10-11-2013</span> <a href="/blog/2013/11/10/lidiando-con-uefi-gpt-y-las-instalaciones-de/"><h1>Lidiando con UEFI, GPT y las instalaciones de Linux (III): El cargador de arranque</h1></a> <p><a href="http://fdavidcl.tumblr.com/post/65535293683/lidiando-con-uefi-gpt-y-las-instalaciones-de-linux">← (II) El Setup</a></p> <p><span><img alt="image" src="http://67.media.tumblr.com/051530f9b0b63e2ae93c8847b39ed1ef/tumblr_inline_mw2beslf4O1r7kqtk.jpg"/></span></p> <p><span>El cargador de arranque es un intermediario entre el firmware del ordenador y el sistema operativo a arrancar. Permite tener varios sistemas instalados en un mismo disco o en distintos, y elegir uno de ellos en el momento de arrancar.</span></p> <p>Por defecto Windows incluye su propio cargador de arranque, que es bastante simple, siendo capaz únicamente de iniciar distintas versiones de Windows (o un Linux instalado con <a href="http://www.ubuntu.com/download/desktop/windows-installer">Wubi</a>, pero al parecer esto no funciona ya con UEFI). Hay muchos otros cargadores de arranque disponibles, que se pueden instalar muy fácilmente desde una distro Linux. Por ejemplo, Grub y LILO son los más conocidos. Tienen sus respectivas <strong>variantes para UEFI, llamadas Grub-efi y ELILO</strong>.</p> <p>Asimismo, algunos ordenadores con UEFI proporcionan un cargador de arranque simple que permite seleccionar la partición que se desea arrancar. En ese caso, para llegar al cargador de arranque habrá que pulsar una tecla determinada en el momento de encender, o bien habrá que activarlo en <a href="http://fdavidcl.tumblr.com/post/65535293683/lidiando-con-uefi-gpt-y-las-instalaciones-de-linux">el Setup</a>.</p> <p><span>Al instalar Ubuntu o cualquier otra distribución, es importante asegurarse de que el cargador de arranque se instala en la primera partición del disco duro (la designada para el arranque EFI). En algunos casos podría ser la segunda, si la primera la ha reservado Windows para recuperación. La partición EFI debería montarse (probablemente lo haga de forma automática, pero es mejor asegurarse) en </span><strong>/boot/efi/</strong><span>. Además, es conveniente comprobar que el cargador de arranque utilizado es compatible con EFI.</span></p> <p>Si tenemos un Linux iniciado y queremos instalar o sustituir el cargador de arranque, podemos utilizar la herramienta de instalación de paquetes del sistema. Por ejemplo, estando en Ubuntu podemos ejecutar</p> <pre><code class="bash">sudo apt-get install grub-efi</code></pre> <p>para instalar este <em>bootloader</em> en el sistema. La instalación debería desencadenar el proceso de sustitución del antiguo cargador por el nuevo, pero podemos realizarlo manualmente, siguiendo los pasos de <a href="https://wiki.archlinux.org/index.php/GRUB#UEFI_systems_2">esta guía</a> para Grub.</p> <p><span>Si el </span><em>bootloader</em><span> que buscamos no está en los repositorios de paquetes, podemos ir a la página oficial e instalar el archivo adecuado (.deb para Ubuntu/Debian/Linux Mint, .rpm para Fedora/Mandriva; o bien directamente el archivo .efi que contiene el cargador): </span><a href="http://sourceforge.net/projects/refind/">rEFInd</a><span>, </span><a href="http://sourceforge.net/projects/elilo/">ELILO</a><span>, </span><a href="http://sourceforge.net/projects/cloverefiboot/">Clover</a><span>.</span></p> <p>Si el cargador de arranque no se ha instalado bien y es imposible llegar a iniciar vuestro Linux, podéis probar con un <strong>cargador de arranque para USB.</strong> Por ejemplo, <a href="http://sourceforge.net/projects/refind/">rEFInd</a> es un extendido <em>bootloader</em> diseñado para UEFI, y tiene una versión para USB. Es una variante de rEFIt, el conocido cargador de arranque para Mac que permite arrancar OS X, Windows y Linux.</p> <p>Otro ejemplo es <a href="http://sourceforge.net/projects/cloverefiboot/">Clover</a>, que se instala desde OS X en la partición EFI o en un pen drive, y es capaz no sólo de arrancar en un ordenador con UEFI sino también en un ordenador con BIOS y <strong>simular un arranque UEFI</strong>, de forma que un S.O. instalado con UEFI o que lo requiera (por ejemplo, <a href="http://fdavidcl.tumblr.com/post/47880085562/hackintosh-y-distros-de-os-x">OS X</a>) pueda iniciarse sin tener UEFI en realidad.</p> <p><a href="http://fdavidcl.tumblr.com/post/77824313799/lidiando-con-uefi-gpt-y-las-instalaciones-de-linux-y">→ (IV) Discos y particiones</a></p> <div class="tags"> <a href="/tag/tech">tech</a> <a href="/tag/uefi">uefi</a> <a href="/tag/gpt">gpt</a> <a href="/tag/linux">linux</a> <a href="/tag/ubuntu">ubuntu</a> </div> </article> <nav class="pagination"> <a href="/blog/3/">Newer</a> <span class="note">4 of 10</span> <a href="/blog/5/">Older</a> <a href="/blog/archive">All posts</a> </nav> <style>.wrapper .sidebar .side-content .sections .section-blog{background:#fff;color:#000;border-color:#fff}@media(min-width:64em){.wrapper .sidebar .side-content .sections .section-blog{margin-right:-2rem;padding-right:2rem}}</style> </div> </div> </div> <link href='https://fonts.googleapis.com/css?family=Source Sans Pro:300,400,400i,700|Inconsolata:400,700' rel='stylesheet' type='text/css'> <link href="//maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet"/> <link rel="stylesheet" href="/assets/stylesheets/highlight-friendly.css"> </body> </html>